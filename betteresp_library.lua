getgenv().ESPSettings={Main={Keybind="P",TeamCheck=false},Tracer={Enabled=true,Color=Color3.fromRGB(255,255,255),Transparency=0.5,Position="Cursor"},Skeleton={Enabled=true,Color=Color3.fromRGB(255,255,255)},Highlight={Enabled=true,OutlineColor=Color3.fromRGB(255,255,255),FillColor=Color3.fromRGB(255,255,255),OutlineTransparency=0,FillTransparency=1},Box={Enabled=true,OutlineTransparency=0.5,FillTransparency=0.5,OutlineColor=Color3.fromRGB(255,255,255),FillColor=Color3.fromRGB(255,255,255),Thickness=1},Name={Enabled=true,ShowName=true,ShowHealth=true,ShowDistance=true}};if getgenv().ESPExecuted then return;else getgenv().ESPExecuted=true;end local v1=game:GetService("Players");local v2=game:GetService("UserInputService");local v3=game:GetService("RunService");local v4=v1.LocalPlayer;local v5=v4:GetMouse();local v6=workspace.CurrentCamera;local v7=true;local function v8(v16) local v17=v16.Character or v16.CharacterAdded:Wait() ;local v18=v17:WaitForChild("Humanoid");local v19=v17:WaitForChild("HumanoidRootPart");return v17,v18,v19;end local function v9(v20) while  not v20:FindFirstChild("HumanoidRootPart") do wait();end local v21=v20.HumanoidRootPart;local v22=Drawing.new("Line");v22.Visible=false;v22.Color=getgenv().ESPSettings.Tracer.Color;v22.Thickness=1;v22.Transparency=1 -getgenv().ESPSettings.Tracer.Transparency ;v3.RenderStepped:Connect(function() if (v20 and v21 and v7) then local v112,v113=v6:worldToViewportPoint(v21.Position);if v113 then v22.Visible=v7 and getgenv().ESPSettings.Tracer.Enabled ;if (getgenv().ESPSettings.Tracer.Position=="Top") then v22.From=Vector2.new(v6.ViewportSize.X/2 ,0);elseif (getgenv().ESPSettings.Tracer.Position=="Middle") then v22.From=Vector2.new(v6.ViewportSize.X/2 ,v6.ViewportSize.Y/2 );elseif (getgenv().ESPSettings.Tracer.Position=="Bottom") then v22.From=Vector2.new(v6.ViewportSize.X/2 ,v6.ViewportSize.Y);elseif (getgenv().ESPSettings.Tracer.Position=="Cursor") then v22.From=Vector2.new(v2:GetMouseLocation().X,v2:GetMouseLocation().Y);else warn("Invalid setting for tracer position");return;end v22.To=Vector2.new(v112.X,v112.Y);v22.Color=getgenv().ESPSettings.Tracer.Color;v22.Transparency=1 -getgenv().ESPSettings.Tracer.Transparency ;else v22.Visible=false;end else v22.Visible=false;end end);v20.AncestryChanged:Connect(function(v96,v97) if  not v97 then v21=nil;end end);end local function v10(v28) while  not v28:FindFirstChild("Humanoid") do wait();end local v29=v28.Humanoid;local v30={};local function v31(v98) if v30[v98] then v30[v98]:Destroy();v30[v98]=nil;end end local function v32(v99) if (v29 and (v29.RigType==Enum.HumanoidRigType.R6) and (v99.Name~="HumanoidRootPart")) then local v116=Drawing.new("Line");v116.Visible=false;v116.Color=getgenv().ESPSettings.Skeleton.Color;v116.Thickness=1;v116.Transparency=1;v30[v99.Name]=v116;game:GetService("RunService").RenderStepped:Connect(function() if (v99 and v99.Parent and v7 and getgenv().ESPSettings.Skeleton.Enabled) then local v188,v189=v6:WorldToViewportPoint(v99.Position);local v190=v6:WorldToViewportPoint(v99.Position-(v99.CFrame.UpVector * (v99.Size.Y/3)) );local v191=v6:WorldToViewportPoint(v99.Position + (v99.CFrame.UpVector * (v99.Size.Y/3)) );if (v189 and (v188.Z>0)) then v116.Visible=true;v116.Color=getgenv().ESPSettings.Skeleton.Color;v116.From=Vector2.new(v190.X,v190.Y);v116.To=Vector2.new(v191.X,v191.Y);else v116.Visible=false;end else v116.Visible=false;end end);elseif (v29 and (v29.RigType==Enum.HumanoidRigType.R15) and (v99.Name~="LeftHand") and (v99.Name~="RightHand") and (v99.Name~="LeftFoot") and (v99.Name~="RightFoot") and (v99.Name~="HumanoidRootPart")) then local v155=Drawing.new("Line");v155.Visible=false;v155.Color=getgenv().ESPSettings.Skeleton.Color;v155.Thickness=1;v155.Transparency=1;v30[v99.Name]=v155;game:GetService("RunService").RenderStepped:Connect(function() if (v99 and v99.Parent and v7 and getgenv().ESPSettings.Skeleton.Enabled) then local v221,v222=v6:WorldToViewportPoint(v99.Position);local v223=v6:WorldToViewportPoint(v99.Position-(v99.CFrame.UpVector * (v99.Size.Y/4)) );local v224=v6:WorldToViewportPoint(v99.Position + (v99.CFrame.UpVector * (v99.Size.Y/4)) );if (v222 and (v221.Z>0)) then v155.Visible=true;v155.Color=getgenv().ESPSettings.Skeleton.Color;if ((v99.Name=="LowerTorso") and v30['UpperTorso']) then v155.From=Vector2.new(v223.X,v223.Y);v155.To=v30['UpperTorso'].From;elseif ((v99.Name=="LeftLowerLeg") and v30['LeftUpperLeg']) then v155.From=Vector2.new(v223.X,v223.Y);v155.To=v30['LeftUpperLeg'].From;elseif ((v99.Name=="RightLowerLeg") and v30['RightUpperLeg']) then v155.From=Vector2.new(v223.X,v223.Y);v155.To=v30['RightUpperLeg'].From;elseif ((v99.Name=="LeftUpperArm") and v30['LeftLowerArm']) then v155.From=v30['LeftLowerArm'].To;v155.To=Vector2.new(v224.X,v224.Y);elseif ((v99.Name=="RightUpperArm") and v30['RightLowerArm']) then v155.From=v30['RightLowerArm'].To;v155.To=Vector2.new(v224.X,v224.Y);else v155.From=Vector2.new(v223.X,v223.Y);v155.To=Vector2.new(v224.X,v224.Y);end else v155.Visible=false;end else v155.Visible=false;end end);end end for v100,v101 in v28:GetChildren() do if v101:IsA("BasePart") then v32(v101);v28.ChildRemoved:Connect(function(v143) if (v143==v101) then v31(v143.Name);end end);v101.AncestryChanged:Connect(function(v144,v145) if  not v145 then v31(v101.Name);end end);end end for v102,v103 in pairs(v30) do local v104=Drawing.new("Line");v104.Visible=false;v104.Color=getgenv().ESPSettings.Skeleton.Color;v104.Thickness=1;v104.Transparency=1;game:GetService("RunService").RenderStepped:Connect(function() if (v104 and (v104~=nil) and v7 and getgenv().ESPSettings.Skeleton.Enabled) then v104.Color=getgenv().ESPSettings.Skeleton.Color;if (v102=="Torso") then if (v30['Head'] and (v30['Head']~=nil)) then v104.From=v30['Head'].From;v104.Visible=v30['Head'].Visible;else v104:Destroy();Conenction=nil;end v104.To=v103.To;elseif ((v102=="Left Arm") or (v102=="Right Arm")) then if (v30['Torso'] and (v30['Torso']~=nil)) then v104.From=v30['Torso'].To;v104.Visible=v30['Torso'].Visible;else v104:Destroy();Conenction=nil;end v104.To=v103.To;elseif ((v102=="Left Leg") or (v102=="Right Leg")) then if (v30['Torso'] and (v30['Torso']~=nil)) then v104.From=v30['Torso'].From;v104.Visible=v30['Torso'].Visible;else v104:Destroy();Conenction=nil;end v104.To=v103.To;elseif ((v102=="LeftUpperLeg") or (v102=="RightUpperLeg")) then v104.From=v103.To;if (v30['LowerTorso'] and (v30['LowerTorso']~=nil)) then v104.To=v30['LowerTorso'].From;v104.Visible=v30['LowerTorso'].Visible;else v104:Destroy();Conenction=nil;end elseif (v102=="Head") then v104.From=v103.From;if (v29 and (v29.RigType==Enum.HumanoidRigType.R15)) then if (v30['UpperTorso'] and (v30['UpperTorso']~=nil)) then v104.To=v30['UpperTorso'].To;v104.Visible=v30['UpperTorso'].Visible;else v104:Destroy();Conenction=nil;end elseif (v29 and (v29.RigType==Enum.HumanoidRigType.R6)) then if (v30['Torso'] and (v30['Torso']~=nil)) then v104.To=v30['Torso'].To;v104.Visible=v30['Torso'].Visible;else v104:Destroy();Conenction=nil;end end elseif ((v102=="LeftUpperArm") or (v102=="RightUpperArm")) then v104.From=v103.To;if (v30['UpperTorso'] and (v30['UpperTorso']~=nil)) then v104.To=v30['UpperTorso'].To;v104.Visible=v30['UpperTorso'].Visible;else v104:Destroy();Conenction=nil;end else v104:Destroy();Conenction=nil;end else v104.Visible=false;end end);end end local function v11(v33) local v34=Instance.new("Highlight",v33);v3.RenderStepped:Connect(function() if (v33 and v7 and getgenv().ESPSettings.Highlight.Enabled) then v34.Enabled=true;v34.FillColor=getgenv().ESPSettings.Highlight.FillColor;v34.FillTransparency=getgenv().ESPSettings.Highlight.FillTransparency;v34.OutlineColor=getgenv().ESPSettings.Highlight.OutlineColor;v34.OutlineTransparency=getgenv().ESPSettings.Highlight.OutlineTransparency;else v34.Enabled=false;end end);end local function v12(v35) while  not v35:FindFirstChild("HumanoidRootPart") do wait();end local v36=v35.HumanoidRootPart;local v37=Drawing.new("Square");v37.Thickness=1;v37.Filled=true;v37.Color=getgenv().ESPSettings.Box.FillColor;v37.Visible=false;v37.ZIndex=1;local v44=Drawing.new("Square");v44.Thickness=getgenv().ESPSettings.Box.Thickness;v44.Filled=false;v44.Color=getgenv().ESPSettings.Box.OutlineColor;v44.Visible=false;v44.ZIndex=2;v3.RenderStepped:Connect(function() if (v36 and v35) then local v133,v134=v6:worldToViewportPoint(v36.Position);local v135=(1/(v133.Z * math.tan(math.rad(v6.FieldOfView * 0.5 )) * 2)) * 100 ;local v136,v137=math.floor(40 * v135 ),math.floor(60 * v135 );if (v134 and v7 and getgenv().ESPSettings.Box.Enabled) then v37.Visible=true;v44.Visible=true;local v164=Vector2.new(v133.X-(v37.Size.X/2) ,v133.Y-(v37.Size.Y/2) );local v165=Vector2.new(v136,v137);v44.Size=v165;v44.Position=v164;v37.Size=v165;v37.Position=v164;v44.Color=getgenv().ESPSettings.Box.OutlineColor;v44.Thickness=getgenv().ESPSettings.Box.Thickness;v37.Color=getgenv().ESPSettings.Box.FillColor;v37.Transparency=1 -getgenv().ESPSettings.Box.FillTransparency ;v44.Transparency=1 -getgenv().ESPSettings.Box.OutlineTransparency ;else v37.Visible=false;v44.Visible=false;end else v37.Visible=false;v44.Visible=false;end end);v35.AncestryChanged:Connect(function(v110,v111) if  not v111 then v36=nil;end end);end local function v13(v52) while  not v52:FindFirstChild("HumanoidRootPart") or  not v52:WaitForChild("Humanoid") or  not v52:WaitForChild("Head")  do wait();end local v53=v52.HumanoidRootPart;local v54=v52.Humanoid;local v55=v52.Head;if ( not v54 or  not v55) then return;end local v56={DisplayDistanceType=nil,NameDisplayDistance=nil,NameOcclusion=nil,HealthDisplayDistance=nil,HealthDisplayType=nil};v56['DisplayDistanceType']=v54.DisplayDistanceType;v56['NameDisplayDistance']=v54.NameDisplayDistance;v56['NameOcclusion']=v54.NameOcclusion;v56['HealthDisplayDistance']=v54.HealthDisplayDistance;v56['HealthDisplayType']=v54.HealthDisplayType;local v67=Instance.new("Model",v52);local v68=Instance.new("Part",v67);local v69=v54:Clone();local v70=Instance.new("Weld",v68);v70.C0=CFrame.new(0,0.5,0);v70.Part0=v55;v70.Part1=v68;v68.Name="Head";v68.CanCollide=false;v68.Size=Vector3.new(0.01,0.01,0.01);v68.Transparency=0.99;v68.Anchored=false;v69.Parent=v67;v69.DisplayDistanceType=Enum.HumanoidDisplayDistanceType.Subject;v69.NameDisplayDistance=math.huge;v69.NameOcclusion=Enum.NameOcclusion.OccludeAll;v69.HealthDisplayType=Enum.HumanoidHealthDisplayType.AlwaysOff;v69.DisplayName="0.0";v3.RenderStepped:Connect(function() if (v52 and v53) then local v140=v52:FindFirstChild("Humanoid");if  not v140 then return;end local v141,v141,v142=v8(v4);if (getgenv().ESPSettings.Name.Enabled and v7) then if getgenv().ESPSettings.Name.ShowName then v140.DisplayDistanceType=Enum.HumanoidDisplayDistanceType.Subject;v140.NameDisplayDistance=math.huge;v140.NameOcclusion=Enum.NameOcclusion.OccludeAll;else v140.NameDisplayDistance=v56['NameDisplayDistance'];v140.NameOcclusion=v56['NameOcclusion'];end if getgenv().ESPSettings.Name.ShowHealth then v140.HealthDisplayDistance=math.huge;v140.HealthDisplayType=Enum.HumanoidHealthDisplayType.AlwaysOn;else v140.HealthDisplayDistance=v56['HealthDisplayDistance'];v140.HealthDisplayType=v56['HealthDisplayType'];end if (v68 and v69 and v70 and v53 and v142) then if getgenv().ESPSettings.Name.ShowDistance then v68.Transparency=0.99;local v234=math.floor(((v53.Position-v142.Position).magnitude * 10) + 0.5 )/10 ;v69.DisplayName=v234;v70.C0=CFrame.new(0,0.5 + (math.floor(v234)/100) ,0);else v68.Transparency=1;end end else v140.NameDisplayDistance=v56['NameDisplayDistance'];v140.NameOcclusion=v56['NameOcclusion'];v140.HealthDisplayDistance=v56['HealthDisplayDistance'];v140.HealthDisplayType=v56['HealthDisplayType'];if v68 then v68.Transparency=1;end end end end);end local function v14(v89) print("Adding ESP to:",v89);v9(v89);v10(v89);v11(v89);v12(v89);v13(v89);end local function v15(v90) if (v90==v4) then return;end local v91=v90.Character or v90.CharacterAdded:Wait() ;if v91 then v14(v91);end v90.CharacterAppearanceLoaded:Connect(v14);end for v92,v93 in v1:GetChildren() do v15(v93);end v1.PlayerAdded:Connect(v15);v5.KeyDown:Connect(function(v94) if (v94==getgenv().ESPSettings.Main.Keybind:lower()) then v7= not v7;end end);
